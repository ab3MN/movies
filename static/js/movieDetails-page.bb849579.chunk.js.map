{"version":3,"sources":["components/MovieDetails/MovieDetails.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/moviesAPI.js","components/ErrorNotification/ErrorNotification.jsx","helpers/getIdFromProps.js"],"names":["MovieDetails","title","genres","poster_path","vote_average","overview","onGoBack","type","onClick","src","alt","map","g","key","id","name","MovieDetailsPage","state","movie","error","handleGoBack","history","props","location","goBack","push","fetchMovie","getIdFromProps","API","then","data","setState","catch","this","match","url","path","ErrorNotification","text","message","to","fallback","routes","CAST_PAGE","component","REVIEWS_PAGE","Component","API_KEY","getTrendingMovies","axios","get","getMoviesByQuery","query","getMovieDetails","getMovieCast","getMovieReviews","params"],"mappings":"iOAgDeA,EA3CM,SAAC,GAAD,IACnBC,EADmB,EACnBA,MACAC,EAFmB,EAEnBA,OACAC,EAHmB,EAGnBA,YACAC,EAJmB,EAInBA,aACAC,EALmB,EAKnBA,SACAC,EANmB,EAMnBA,SANmB,OAQnB,iCACE,6BACE,4BAAQC,KAAK,SAASC,QAASF,GAA/B,iBAGA,yBAAKG,IAfQ,mCAeaN,EAAaO,IAAKT,KAG9C,4BAAKA,GACL,mDAAiC,GAAfG,EAAlB,MACA,wCACA,2BAAIC,GACJ,sCACA,4BACGH,EAAOS,KAAI,SAAAC,GAAC,OACX,wBAAIC,IAAKD,EAAEE,IAAKF,EAAEG,Y,wBChBLC,E,4MAenBC,MAAQ,CACNC,MAAO,KACPC,MAAO,M,EAOTC,aAAe,WAAO,IACZC,EAAY,EAAKC,MAAjBD,QACa,EAAKC,MAAlBC,SACAV,IAGNQ,EAAQG,SAGVH,EAAQI,KAAK,Y,EAGfC,WAAa,WACX,IAAMZ,EAAKa,YAAe,EAAKL,OAC/BM,IAAoBd,GACjBe,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAc,EAAKC,SAAS,CAAEb,MAAOY,OAC1CE,OAAM,SAAAb,GACL,EAAKY,SAAS,CAAEZ,c,kEApBpBc,KAAKP,e,+BAwBG,IACAQ,EAAUD,KAAKX,MAAfY,MACAC,EAAcD,EAAdC,IAAKC,EAASF,EAATE,KAFN,EAGkBH,KAAKhB,MAAtBC,EAHD,EAGCA,MAAOC,EAHR,EAGQA,MACf,OACE,6BACGA,GAAS,kBAACkB,EAAA,EAAD,CAAmBC,KAAMnB,EAAMoB,UACxCrB,GAAS,kBAAC,EAAD,iBAAkBA,EAAlB,CAAyBZ,SAAU2B,KAAKb,gBAClD,6BACA,sDACA,4BACE,6BACE,4BACE,kBAAC,IAAD,CAAMoB,GAAE,UAAKL,EAAL,UAAR,SAEF,4BACE,kBAAC,IAAD,CAAMK,GAAE,UAAKL,EAAL,YAAR,YAGJ,8BAGF,kBAAC,WAAD,CAAUM,SAAU,kBAAC,IAAD,OAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEL,KAAI,UAAKA,EAAOM,IAAOC,UAAUP,MACjCQ,UAAWF,IAAOC,UAAUC,YAG9B,kBAAC,IAAD,CACER,KAAI,UAAKA,EAAOM,IAAOG,aAAaT,MACpCQ,UAAWF,IAAOG,aAAaD,mB,GA5ECE,c,gCCZ9C,+LAEMC,EAAU,mCAEHC,EAAoB,kBAC/BC,IAAMC,IAAN,gEAAmEH,KAExDI,EAAmB,SAAAC,GAAK,OACnCH,IAAMC,IAAN,4DACuDH,EADvD,kBACwEK,KAG7DC,EAAkB,SAAAvC,GAAE,OAC/BmC,IAAMC,IAAN,6CACwCpC,EADxC,oBACsDiC,EADtD,qBAIWO,EAAe,SAAAxC,GAAE,OAC5BmC,IAAMC,IAAN,8CACyCpC,EADzC,4BAC+DiC,KAGpDQ,EAAkB,SAAAzC,GAAE,OAC/BmC,IAAMC,IAAN,8CACyCpC,EADzC,4BAC+DiC,EAD/D,6B,gCCvBF,oBAIeV,IAFW,SAAAC,GAAI,OAAI,yCAAeA,K,gCCAlCX,IAFQ,SAAAL,GAAK,OAAIA,EAAMY,MAAMsB,OAAO1C","file":"static/js/movieDetails-page.bb849579.chunk.js","sourcesContent":["import React from 'react';\nimport T from 'prop-types';\n\nconst posterimgpath = `https://image.tmdb.org/t/p/w342/`;\n\nconst MovieDetails = ({\n  title,\n  genres,\n  poster_path,\n  vote_average,\n  overview,\n  onGoBack,\n}) => (\n  <article>\n    <div>\n      <button type=\"button\" onClick={onGoBack}>\n        &#11013;Go Back\n      </button>\n      <img src={posterimgpath + poster_path} alt={title} />\n    </div>\n\n    <h2>{title}</h2>\n    <p>User Score:{`${vote_average * 10}%`}</p>\n    <h3>Overview</h3>\n    <p>{overview}</p>\n    <h3>Genres</h3>\n    <ul>\n      {genres.map(g => (\n        <li key={g.id}>{g.name}</li>\n      ))}\n    </ul>\n  </article>\n);\n\nMovieDetails.propTypes = {\n  onGoBack: T.func.isRequired,\n  title: T.string.isRequired,\n  poster_path: T.string.isRequired,\n  vote_average: T.number.isRequired,\n  overview: T.string.isRequired,\n  genres: T.arrayOf(\n    T.shape({\n      id: T.number.isRequired,\n      name: T.string.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default MovieDetails;\n","import React, { Component, Suspense } from 'react';\nimport { Route, Link, Switch } from 'react-router-dom';\nimport T from 'prop-types';\n\nimport * as API from '../../services/moviesAPI';\nimport routes from '../../Routes/Routes';\n\nimport MovieDetails from '../../components/MovieDetails/MovieDetails';\nimport ErrorNotification from '../../components/ErrorNotification/ErrorNotification';\nimport getIdFromProps from '../../helpers/getIdFromProps';\nimport MovieLoader from '../../components/Loader/Loader';\n\nexport default class MovieDetailsPage extends Component {\n  static propTypes = {\n    history: T.shape({\n      push: T.func.isRequired,\n      goBack: T.func.isRequired,\n    }).isRequired,\n    match: T.shape({\n      url: T.string.isRequired,\n      path: T.string.isRequired,\n    }).isRequired,\n    location: T.shape({\n      key: T.string.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    movie: null,\n    error: null,\n  };\n\n  componentDidMount() {\n    this.fetchMovie();\n  }\n\n  handleGoBack = () => {\n    const { history } = this.props;\n    const { location } = this.props;\n    const { key } = location;\n\n    if (key) {\n      history.goBack();\n      return;\n    }\n    history.push('/movies');\n  };\n\n  fetchMovie = () => {\n    const id = getIdFromProps(this.props);\n    API.getMovieDetails(id)\n      .then(({ data }) => this.setState({ movie: data }))\n      .catch(error => {\n        this.setState({ error });\n      });\n  };\n\n  render() {\n    const { match } = this.props;\n    const { url, path } = match;\n    const { movie, error } = this.state;\n    return (\n      <div>\n        {error && <ErrorNotification text={error.message} />}\n        {movie && <MovieDetails {...movie} onGoBack={this.handleGoBack} />}\n        <hr />\n        <h4>Additional information</h4>\n        <ul>\n          <div>\n            <li>\n              <Link to={`${url}/cast`}>Cast</Link>\n            </li>\n            <li>\n              <Link to={`${url}/review`}>Review</Link>\n            </li>\n          </div>\n          <hr />\n        </ul>\n\n        <Suspense fallback={<MovieLoader />}>\n          <Switch>\n            <Route\n              path={`${path + routes.CAST_PAGE.path}`}\n              component={routes.CAST_PAGE.component}\n            />\n\n            <Route\n              path={`${path + routes.REVIEWS_PAGE.path}`}\n              component={routes.REVIEWS_PAGE.component}\n            />\n          </Switch>\n        </Suspense>\n      </div>\n    );\n  }\n}\n","import axios from 'axios';\n\nconst API_KEY = '155381e5ea55326648abc3faf6598daf';\n\nexport const getTrendingMovies = () =>\n  axios.get(`https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`);\n\nexport const getMoviesByQuery = query =>\n  axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`,\n  );\n\nexport const getMovieDetails = id =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`,\n  );\n\nexport const getMovieCast = id =>\n  axios.get(\n    ` https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}`,\n  );\n\nexport const getMovieReviews = id =>\n  axios.get(\n    ` https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\n  );\n","import React from 'react';\n\nconst ErrorNotification = text => <h1>Oops some {text}</h1>;\n\nexport default ErrorNotification;\n","const getIdFromProps = props => props.match.params.id;\n\nexport default getIdFromProps;\n"],"sourceRoot":""}